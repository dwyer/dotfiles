#!/bin/sh
# Creates a new Google App Engine project.
GAEPATH=/usr/local
if [ ! -e $GAEPATH/google_appengine ]; then
    echo Error: App Engine not installed at $GAEPATH >&2
    exit 1
fi
case $# in
    1)
        path=$1
        if [ -e $path ]; then
            echo $path already exists.
            exit 1
        fi
        # TODO: make sure name has no spaces
        name=`nf / $path`
        mkdir -p $path
        cd $path
        cp $GAEPATH/google_appengine/new_project_template/* .
        sed -i s/new-project-template/$name/ app.yaml
        echo '*.pyc' >.gitignore
        git init
        git add .
        git commit -m "Created App Engine project: $name"
        ;;
    *)
        echo Usage: `nf / $0` path
esac
